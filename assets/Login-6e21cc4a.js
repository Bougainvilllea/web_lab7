import{r as l,u as h,a as w,o as d,c as v,b as s,t as n,w as b,d as p,v as c,e as f}from"./index-c8d22d6d.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const x={class:"login"},V={class:"card"},q={key:1,class:"error"},B={type:"submit"},L={__name:"Login",setup(S){const r=l(""),a=l(""),i=l(""),e=l(!1),u=l(""),_=h(),y=w(),g=async()=>{try{if(u.value="",e.value){if(a.value!==i.value)throw new Error("Passwords dont match");_.register(r.value,a.value),e.value=!1}else _.login(r.value,a.value),y.push("/todo")}catch(m){u.value=m.message}};return(m,t)=>(d(),v("div",x,[s("div",V,[s("h2",null,n(e.value?"Регистарция":"Вход"),1),s("form",{onSubmit:b(g,["prevent"])},[p(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),type:"email",placeholder:"Введите почту",required:""},null,512),[[c,r.value]]),p(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>a.value=o),type:"password",placeholder:"Введите пароль",required:""},null,512),[[c,a.value]]),e.value?p((d(),v("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=o=>i.value=o),type:"password",placeholder:"Повторите пароль",required:""},null,512)),[[c,i.value]]):f("",!0),u.value?(d(),v("p",q,n(u.value),1)):f("",!0),s("button",B,n(e.value?"Зарегистрироваться":"Войти"),1)],32),s("p",null,[s("a",{href:"#",onClick:t[3]||(t[3]=o=>e.value=!e.value)},n(e.value?"Вход":"Регистарция"),1)])])]))}},D=k(L,[["__scopeId","data-v-fe3d690f"]]);export{D as default};
